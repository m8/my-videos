<!DOCTYPE html>
<html>
  <head>
    <% include templates/head.ejs %>
  
  </head>

  <body>
    <% include templates/navbar.ejs %>

    <div class="content-container">

      <div class="container-fluid">

        <h3>Welcome to Categories Page. <i class="fa fa-book"></i></h3>
        <hr>
        
        <div class="d-flex justify-content-between">
          Hello, <%= name %> The categories you have  
          <button id="add" class="btn btn-info"><i class="fa fa-plus"></i>Add Category</button>
        </div>
        <div class="pt-2">
          <% if (categories) { %>
            <% for(var i=0; i < categories.length; i++) { %>
          <div class="card mb-2">
            <div class="card-body">

              <h5 class="card-title"><a href="/category/<%= categories[i].uuid %>"><%= categories[i].title %></a></h5>
              <p class="card-text">
                <% if(categories[i].is_private) { %>
                  ðŸ”’ Private category.
                <% } else { %>
                  ðŸ“¢ Public category. To share with your friends: <%= categories[i].uuid %>
                <% } %>
              </p>
              <a href="/category/details/<%= categories[i].uuid %>" class="btn btn-success">Details</a>
            </div>
          </div>
          <% } %>
          <% } %>
       </div>
      </div>
    </div>
    </body>

    <div class="modal bd-example-modal-lg  fade " id="modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle"
        aria-hidden="true">
        <div class="modal-dialog modal-lg" role="document">
          <div class="modal-content">

            <div class="modal-body">
              <form method="POST" action="/category/add">
                <label for="exampleInputEmail1" class="form-label">Title</label>
                <input type="text" class="form-control" name="title" id="exampleInputEmail1">

                <label for="exampleInputEmail1" class="form-label">is_private?</label>
                <input type="checkbox" class="form-control" name="is_private" id="exampleInputEmail1">
                
                <button type="submit" class="btn btn-success mt-2">Add Category</button>
              </form>
            </div>

          </div>
        </div>
      </div>

    <script>
    
    $('#add').on('click',function(){
      $('#modal').modal('show');
    })


    </script>
</html>
